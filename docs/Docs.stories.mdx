import { Meta, Description } from '@storybook/addon-docs/blocks';
import { ArgsTable as PureArgsTable } from '@storybook/components';
import { Example, SideBySide, grabMarkdownSections } from './helpers';
import Readme from '../README.md';
import argTypes from './argTypes';
import '../src'

<Meta title="Focal Point Mask"/>

<Description>{grabMarkdownSections(Readme)[0]}</Description>

<Exampl
  showProp="focalPoint"
  focalPoints={['50% 15%', '50% 85%']}
  aspectRatio="3/2"
  imgSrc="https://picsum.photos/id/1011/3840/2160"
/>

<Description>{grabMarkdownSections(Readme)[1]}</Description>

<Exampl
  showProp="focalPoint"
  focalPoints={['35% 75%']}
  aspectRatio="3/2"
  imgSrc="https://picsum.photos/id/1012/3840/2160"
/>

## API

<PureArgsTable rows={argTypes}/>

## Examples

### focalPoint

<SideBySide>
  <Example
    showProp="focalPoint"
    focalPoints={['80% 100%']}
    aspectRatio="3/2"
    imgSrc="https://picsum.photos/id/1011/1350/900"
    isSmall
  />
  <Example
    showProp="focalPoint"
    focalPoints={['80% 0%']}
    aspectRatio="3/2"
    imgSrc="https://picsum.photos/id/1011/1350/900"
    isSmall
  />
</SideBySide>

### minWidth

### minHeight

<SideBySide>
  <Example
    showProp="minHeight"
    focalPoints={['40% 100%']}
    aspectRatio="4/3"
    minHeight="0"
    imgSrc="https://picsum.photos/id/22/1200/900"
    isSmall
  />
  <Example
    showProp="minHeight"
    focalPoints={['40% 100%']}
    aspectRatio="4/3"
    minHeight="375"
    imgSrc="https://picsum.photos/id/22/1200/900"
    isSmall
  />
</SideBySide>

### aspectRatio

### onMaskResize

## Using properties and events

Properties can be set through HTML.

```html
<focal-point-mask focalPoint="35% 75%" minHeight="500">
```

Properties can be got and set through JavaScript.

```js
const focalPointMask = document.querySelector('focal-point-mask');

// attribute get/set
const attr = focalPointMask.getAttribute('focalPoint');
focalPointMask.setAttribute('focalPoint', '35% 75%');

// property get/set
const prop = focalPointMask.minHeight;
focalPointMask.minHeight = 500;
```

Event listeners can **only** be attached through JavaScript using either `addEventListener` or event methods.

```js
const focalPointMask = document.querySelector('focal-point-mask');

// addEventListener
focalPointMask.addEventListener('maskResize', callback);

// event method
focalPointMask.onMaskResize(callback);
```

The following example **will not work** in native HTML but frameworks like [Vue](https://custom-elements-everywhere.com/libraries/vue/results/results.html) and [Angular](https://custom-elements-everywhere.com/libraries/angular/results/results.html) (but not [React](https://custom-elements-everywhere.com/libraries/react/results/results.html)) provide HTML-like syntaxes that allow properties to be passed as actual properties and not as attributes. See [Custom Elements Everywhere](https://custom-elements-everywhere.com/) for more information.

```html
<!-- this will NOT work in native HTML -->
<focal-point-mask onMaskResize="callback(event)">
```
